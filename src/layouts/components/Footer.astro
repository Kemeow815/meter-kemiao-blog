---
const today = new Date();
---

<footer class='container mt-8'>
  <div class="justify-center flex gap-4 py-8 prose dark:prose-invert text-sm">
    <a href="mailto:studyinglover1@gmail.com">Newsletter</a>
    <a href="/rss.xml">RSS</a>
  </div>

  <div class="justify-center flex gap-4 py-4 prose dark:prose-invert text-sm text-zinc-500 dark:text-zinc-300">
    <span>本站已创立 <span id="siteAge"></span></span>
    <span>新版本投入使用 <span id="newVersionAge"></span></span>
  </div>

  <div class='py-4 border-t dark:border-t-zinc-700'>
    <div class="md:flex text-sm text-zinc-500 dark:text-zinc-300 prose dark:prose-invert justify-between">
      <div>Copyright © {today.getFullYear()} Studyinglover.</div>
      <div>修改自 <a href="https://devaradise.com" target="_blank" rel="nofollow noopener">Syakir @ Devaradise</a> 模板</div>
    </div>
  </div>
</footer>

<script>
  function updateTimes() {
    const siteStartDate = new Date('2023-01-27T20:46:00'); // 设置网站创建时间
    const newVersionDate = new Date('2025-01-09T23:22:00'); // 设置新版本启用时间
    
    function getTimeDiff(startDate: Date) {
      const now = new Date();
      const diff = now.getTime() - startDate.getTime();
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      return `${days}天 ${hours}小时 ${minutes}分 ${seconds}秒`;
    }

    const siteAgeElement = document.getElementById('siteAge');
    const newVersionElement = document.getElementById('newVersionAge');
    if (siteAgeElement) siteAgeElement.textContent = getTimeDiff(siteStartDate);
    if (newVersionElement) newVersionElement.textContent = getTimeDiff(newVersionDate);
  }

  // 初始更新
  updateTimes();
  // 每秒更新一次
  setInterval(updateTimes, 1000);
</script>